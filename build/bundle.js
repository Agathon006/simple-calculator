(()=>{"use strict";const e=(e,t,a)=>{null===e.operation&&"string"==typeof e.lastValue&&-1!==e.lastValue.indexOf("=")&&(e.lastValue=null,e.value=0,t.textContent="0"),!e.operation||null!==e.lastValue&&"string"!=typeof e.lastValue||(e.lastValue=e.value,e.value=0,t.textContent="0"),-1!==t.textContent.indexOf(",")&&Number.isInteger(e.value)?"0"===a?t.textContent+="0":e.value=+(e.value+"."+t.textContent.split(",")[1]+a):0===e.value?e.value=+a:e.value=+(e.value+a)},t=()=>{document.querySelector("#calc").querySelectorAll("button").forEach((e=>{"reset-text"!==e.id&&e.classList.toggle("lock")}))},a=(e,a)=>{let l=e.value;switch(e.operation){case"plus":null!==e.lastValue&&"number"==typeof e.lastValue?e.value=e.lastValue+e.value:e.value=0+e.value,e.lastValue=`${null===e.lastValue||"string"==typeof e.lastValue?0:e.lastValue} + ${l} = `;break;case"minus":null!==e.lastValue&&"number"==typeof e.lastValue?e.value=e.lastValue-e.value:e.value=0-e.value,e.lastValue=`${null===e.lastValue||"string"==typeof e.lastValue?0:e.lastValue} - ${l} = `;break;case"mult":null!==e.lastValue&&"number"==typeof e.lastValue?e.value=e.lastValue*e.value:e.value=0*e.value,e.lastValue=`${null===e.lastValue||"string"==typeof e.lastValue?0:e.lastValue} * ${l} = `;break;case"division":0===e.value?(e.value="Error",t()):null!==e.lastValue&&"number"==typeof e.lastValue?e.value=e.lastValue/e.value:e.value=0/e.value,e.lastValue=`${null===e.lastValue||"string"==typeof e.lastValue?0:e.lastValue} / ${l} = `;break;default:if(""!==a.textContent){let t=+a.textContent.split(" ")[2].replace(/,/g,".");switch(a.textContent.split(" ")[1]){case"+":e.value+=t,e.lastValue=`${e.value-t} + ${t} = `;break;case"-":e.value-=t,e.lastValue=`${e.value+t} - ${t} = `;break;case"*":e.value*=t,e.lastValue=`${0===t?t:e.value/t} * ${t} = `;break;case"/":e.value/=t,e.lastValue=`${e.value*t} / ${t} = `}}}e.operation=null},l=e=>{if(null===e)return"";if("string"==typeof e)return e.replace(/\./g,",");const t=String(e).split("."),a=t[0].replace(/\B(?=(\d{3})+(?!\d))/g," ");return t.length>1?`${a},${t[1]}`:a};document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=document.querySelector("#theme-switch"),t=document.querySelector(".wrapper");e.addEventListener("click",(()=>{t.classList.contains("dark-theme")?(t.classList.remove("dark-theme"),t.classList.add("light-theme")):(t.classList.remove("light-theme"),t.classList.add("dark-theme"))}))})(),(()=>{const u={value:0,lastValue:null,operation:null},s=document.querySelector("#value"),n=document.querySelector("#last-value"),r=document.querySelector("#reset-text"),o=document.querySelector("#plusBtn"),c=document.querySelector("#minusBtn"),i=document.querySelector("#multBtn"),v=document.querySelector("#divisionBtn");document.querySelector("#calc").addEventListener("click",(d=>{switch(v.classList.remove("active"),i.classList.remove("active"),c.classList.remove("active"),o.classList.remove("active"),d.target.dataset.btn){case"zero":e(u,s,"0");break;case"one":e(u,s,"1");break;case"two":e(u,s,"2");break;case"three":e(u,s,"3");break;case"four":e(u,s,"4");break;case"five":e(u,s,"5");break;case"six":e(u,s,"6");break;case"seven":e(u,s,"7");break;case"eight":e(u,s,"8");break;case"nine":e(u,s,"9");break;case"comma":((e,t)=>{null===e.operation&&"string"==typeof e.lastValue&&-1!==e.lastValue.indexOf("=")?(e.lastValue=null,e.value=0,t.textContent="0,"):!e.operation||null!==e.lastValue&&"string"!=typeof e.lastValue?-1===t.textContent.indexOf(",")&&(t.textContent+=","):(e.lastValue=e.value,e.value=0,t.textContent="0,")})(u,s);break;case"reset":u.value=0,u.lastValue=null,"AC"===r.textContent&&(u.operation=null),"Error"===s.textContent&&t();break;case"sign-change":u.value=-u.value;break;case"percent":u.value=u.value/100;break;case"division":"number"==typeof u.lastValue&&null!==u.operation&&a(u,n),u.operation="division";break;case"mult":"number"==typeof u.lastValue&&null!==u.operation&&a(u,n),u.operation="mult";break;case"minus":"number"==typeof u.lastValue&&null!==u.operation&&a(u,n),u.operation="minus";break;case"plus":"number"==typeof u.lastValue&&null!==u.operation&&a(u,n),u.operation="plus";break;case"compute":a(u,n)}switch("comma"===d.target.dataset.btn||"zero"===d.target.dataset.btn&&/^[0,]*$/.test(s.textContent)||(s.textContent=l(u.value)),n.textContent=l(u.lastValue),u.value?r.textContent="C":r.textContent="AC",u.operation){case"plus":o.classList.add("active");break;case"minus":c.classList.add("active");break;case"mult":i.classList.add("active");break;case"division":v.classList.add("active")}}))})()}))})();
//# sourceMappingURL=bundle.js.map
{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://simple-calculator/./src/scripts/theme/switchThemeListener.js","webpack://simple-calculator/./src/scripts/calc/operations/onDigitClick.js","webpack://simple-calculator/./src/scripts/utils/switchLockCalc.js","webpack://simple-calculator/./src/scripts/calc/operations/onComputeClick.js","webpack://simple-calculator/./src/scripts/utils/formatNumToStr.js","webpack://simple-calculator/./src/scripts/index.js","webpack://simple-calculator/./src/scripts/calc/calcListener.js","webpack://simple-calculator/./src/scripts/calc/operations/onCommaClick.js"],"sourcesContent":["\"use strict\";\r\n\r\nexport default () => {\r\n  const switchBtn = document.querySelector(\"#theme-switch\");\r\n  const wrapper = document.querySelector(\".wrapper\");\r\n\r\n  switchBtn.addEventListener(\"click\", () => {\r\n    if (wrapper.classList.contains(\"dark-theme\")) {\r\n      wrapper.classList.remove(\"dark-theme\");\r\n      wrapper.classList.add(\"light-theme\");\r\n    } else {\r\n      wrapper.classList.remove(\"light-theme\");\r\n      wrapper.classList.add(\"dark-theme\");\r\n    }\r\n  });\r\n};\r\n","\"use strict\";\r\n\r\nexport default (state, valueText, digit) => {\r\n  if (\r\n    state.operation === null &&\r\n    typeof state.lastValue === \"string\" &&\r\n    state.lastValue.indexOf(\"=\") !== -1\r\n  ) {\r\n    state.lastValue = null;\r\n    state.value = 0;\r\n    valueText.textContent = \"0\";\r\n  }\r\n\r\n  if (\r\n    state.operation &&\r\n    (state.lastValue === null || typeof state.lastValue === \"string\")\r\n  ) {\r\n    state.lastValue = state.value;\r\n    state.value = 0;\r\n    valueText.textContent = \"0\";\r\n  }\r\n\r\n  if (\r\n    valueText.textContent.indexOf(\",\") !== -1 &&\r\n    (Number.isInteger(state.value))\r\n  ) {\r\n    if (digit === \"0\") {\r\n      valueText.textContent += \"0\";\r\n    } else {\r\n      state.value = +(state.value + \".\" + valueText.textContent.split(',')[1] + digit);\r\n    }\r\n  } else {\r\n    if (state.value === 0) {\r\n      state.value = +digit;\r\n    } else {\r\n      state.value = +(state.value + digit);\r\n    }\r\n  }\r\n};\r\n","\"use strict\";\r\n\r\nexport default () => {\r\n  const buttons = document.querySelector(\"#calc\").querySelectorAll(\"button\");\r\n\r\n  buttons.forEach((button) => {\r\n    if (button.id !== \"reset-text\") button.classList.toggle(\"lock\");\r\n  });\r\n};\r\n","\"use strict\";\r\n\r\nimport switchLockCalc from \"../../utils/switchLockCalc.js\";\r\n\r\nexport default (state, lastValueText) => {\r\n  let oldValue = state.value;\r\n  switch (state.operation) {\r\n    case \"plus\":\r\n      if (state.lastValue !== null && typeof state.lastValue === \"number\") {\r\n        state.value = state.lastValue + state.value;\r\n      } else {\r\n        state.value = 0 + state.value;\r\n      }\r\n      state.lastValue = `${\r\n        state.lastValue === null || typeof state.lastValue === \"string\"\r\n          ? 0\r\n          : state.lastValue\r\n      } + ${oldValue} = `;\r\n      break;\r\n    case \"minus\":\r\n      if (state.lastValue !== null && typeof state.lastValue === \"number\") {\r\n        state.value = state.lastValue - state.value;\r\n      } else {\r\n        state.value = 0 - state.value;\r\n      }\r\n      state.lastValue = `${\r\n        state.lastValue === null || typeof state.lastValue === \"string\"\r\n          ? 0\r\n          : state.lastValue\r\n      } - ${oldValue} = `;\r\n      break;\r\n    case \"mult\":\r\n      if (state.lastValue !== null && typeof state.lastValue === \"number\") {\r\n        state.value = state.lastValue * state.value;\r\n      } else {\r\n        state.value = 0 * state.value;\r\n      }\r\n      state.lastValue = `${\r\n        state.lastValue === null || typeof state.lastValue === \"string\"\r\n          ? 0\r\n          : state.lastValue\r\n      } * ${oldValue} = `;\r\n      break;\r\n    case \"division\":\r\n      if (state.value === 0) {\r\n        state.value = \"Error\";\r\n        switchLockCalc();\r\n      } else {\r\n        if (state.lastValue !== null && typeof state.lastValue === \"number\") {\r\n          state.value = state.lastValue / state.value;\r\n        } else {\r\n          state.value = 0 / state.value;\r\n        }\r\n      }\r\n      state.lastValue = `${\r\n        state.lastValue === null || typeof state.lastValue === \"string\"\r\n          ? 0\r\n          : state.lastValue\r\n      } / ${oldValue} = `;\r\n      break;\r\n    default:\r\n      if (lastValueText.textContent !== \"\") {\r\n        let repeatedValue = +lastValueText.textContent\r\n          .split(\" \")[2]\r\n          .replace(/,/g, \".\");\r\n        switch (lastValueText.textContent.split(\" \")[1]) {\r\n          case \"+\":\r\n            state.value += repeatedValue;\r\n            state.lastValue = `${\r\n              state.value - repeatedValue\r\n            } + ${repeatedValue} = `;\r\n            break;\r\n          case \"-\":\r\n            state.value -= repeatedValue;\r\n            state.lastValue = `${\r\n              state.value + repeatedValue\r\n            } - ${repeatedValue} = `;\r\n            break;\r\n          case \"*\":\r\n            state.value *= repeatedValue;\r\n            state.lastValue = `${\r\n              repeatedValue === 0 ? repeatedValue : state.value / repeatedValue\r\n            } * ${repeatedValue} = `;\r\n            break;\r\n          case \"/\":\r\n            state.value /= repeatedValue;\r\n            state.lastValue = `${\r\n              state.value * repeatedValue\r\n            } / ${repeatedValue} = `;\r\n            break;\r\n        }\r\n      }\r\n      break;\r\n  }\r\n  state.operation = null;\r\n};\r\n","\"use strict\";\r\n\r\nexport default (data) => {\r\n  if (data === null) return \"\";\r\n  if (typeof data === \"string\") return data.replace(/\\./g, \",\");\r\n  const parts = String(data).split(\".\");\r\n  const integerPart = parts[0];\r\n  const formattedInteger = integerPart.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\r\n\r\n  if (parts.length > 1) {\r\n    return `${formattedInteger},${parts[1]}`;\r\n  } else {\r\n    return formattedInteger;\r\n  }\r\n};\r\n","\"use strict\";\r\n\r\nimport switchThemeListener from \"./theme/switchThemeListener.js\";\r\nimport calcListener from \"./calc/calcListener.js\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  switchThemeListener();\r\n  calcListener();\r\n});\r\n","\"use strict\";\r\n\r\nimport onDigitClick from \"./operations/onDigitClick.js\";\r\nimport onCommaClick from \"./operations/onCommaClick.js\";\r\nimport onComputeClick from \"./operations/onComputeClick.js\";\r\n\r\nimport formatNumToStr from \"../utils/formatNumToStr.js\";\r\nimport switchLockCalc from \"../utils/switchLockCalc.js\";\r\n\r\nexport default () => {\r\n  const state = {\r\n    value: 0,\r\n    lastValue: null,\r\n    operation: null,\r\n  };\r\n\r\n  const valueText = document.querySelector(\"#value\");\r\n  const lastValueText = document.querySelector(\"#last-value\");\r\n  const resetText = document.querySelector(\"#reset-text\");\r\n\r\n  const plusBtn = document.querySelector(\"#plusBtn\");\r\n  const minusBtn = document.querySelector(\"#minusBtn\");\r\n  const multBtn = document.querySelector(\"#multBtn\");\r\n  const divisionBtn = document.querySelector(\"#divisionBtn\");\r\n\r\n  document.querySelector(\"#calc\").addEventListener(\"click\", (e) => {\r\n    divisionBtn.classList.remove(\"active\");\r\n    multBtn.classList.remove(\"active\");\r\n    minusBtn.classList.remove(\"active\");\r\n    plusBtn.classList.remove(\"active\");\r\n\r\n    switch (e.target.dataset.btn) {\r\n      case \"zero\":\r\n        onDigitClick(state, valueText, \"0\");\r\n        break;\r\n      case \"one\":\r\n        onDigitClick(state, valueText, \"1\");\r\n        break;\r\n      case \"two\":\r\n        onDigitClick(state, valueText, \"2\");\r\n        break;\r\n      case \"three\":\r\n        onDigitClick(state, valueText, \"3\");\r\n        break;\r\n      case \"four\":\r\n        onDigitClick(state, valueText, \"4\");\r\n        break;\r\n      case \"five\":\r\n        onDigitClick(state, valueText, \"5\");\r\n        break;\r\n      case \"six\":\r\n        onDigitClick(state, valueText, \"6\");\r\n        break;\r\n      case \"seven\":\r\n        onDigitClick(state, valueText, \"7\");\r\n        break;\r\n      case \"eight\":\r\n        onDigitClick(state, valueText, \"8\");\r\n        break;\r\n      case \"nine\":\r\n        onDigitClick(state, valueText, \"9\");\r\n        break;\r\n      case \"comma\":\r\n        onCommaClick(state, valueText);\r\n        break;\r\n      case \"reset\":\r\n        state.value = 0;\r\n        state.lastValue = null;\r\n        if (resetText.textContent === \"AC\") state.operation = null;\r\n        if (valueText.textContent === \"Error\") switchLockCalc();\r\n        break;\r\n      case \"sign-change\":\r\n        state.value = -state.value;\r\n        break;\r\n      case \"percent\":\r\n        state.value = state.value / 100;\r\n        break;\r\n      case \"division\":\r\n        if (typeof state.lastValue === \"number\" && state.operation !== null) {\r\n          onComputeClick(state, lastValueText);\r\n        }\r\n        state.operation = \"division\";\r\n        break;\r\n      case \"mult\":\r\n        if (typeof state.lastValue === \"number\" && state.operation !== null) {\r\n          onComputeClick(state, lastValueText);\r\n        }\r\n        state.operation = \"mult\";\r\n        break;\r\n      case \"minus\":\r\n        if (typeof state.lastValue === \"number\" && state.operation !== null) {\r\n          onComputeClick(state, lastValueText);\r\n        }\r\n        state.operation = \"minus\";\r\n        break;\r\n      case \"plus\":\r\n        if (typeof state.lastValue === \"number\" && state.operation !== null) {\r\n          onComputeClick(state, lastValueText);\r\n        }\r\n        state.operation = \"plus\";\r\n        break;\r\n      case \"compute\":\r\n        onComputeClick(state, lastValueText);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (\r\n      e.target.dataset.btn !== \"comma\" &&\r\n      !(\r\n        e.target.dataset.btn === \"zero\" && /^[0,]*$/.test(valueText.textContent)\r\n      )\r\n    ) {\r\n      valueText.textContent = formatNumToStr(state.value);\r\n    }\r\n    lastValueText.textContent = formatNumToStr(state.lastValue);\r\n    state.value\r\n      ? (resetText.textContent = \"C\")\r\n      : (resetText.textContent = \"AC\");\r\n\r\n    switch (state.operation) {\r\n      case \"plus\":\r\n        plusBtn.classList.add(\"active\");\r\n        break;\r\n      case \"minus\":\r\n        minusBtn.classList.add(\"active\");\r\n        break;\r\n      case \"mult\":\r\n        multBtn.classList.add(\"active\");\r\n        break;\r\n      case \"division\":\r\n        divisionBtn.classList.add(\"active\");\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  });\r\n};\r\n","\"use strict\";\r\n\r\nexport default (state, valueText) => {\r\n  if (\r\n    state.operation === null &&\r\n    typeof state.lastValue === \"string\" &&\r\n    state.lastValue.indexOf(\"=\") !== -1\r\n  ) {\r\n    state.lastValue = null;\r\n    state.value = 0;\r\n    valueText.textContent = \"0,\";\r\n  } else if (\r\n    state.operation &&\r\n    (state.lastValue === null || typeof state.lastValue === \"string\")\r\n  ) {\r\n    state.lastValue = state.value;\r\n    state.value = 0;\r\n    valueText.textContent = \"0,\";\r\n  } else {\r\n    if (valueText.textContent.indexOf(\",\") === -1) valueText.textContent += \",\";\r\n  }\r\n};\r\n"],"names":["state","valueText","digit","operation","lastValue","indexOf","value","textContent","Number","isInteger","split","document","querySelector","querySelectorAll","forEach","button","id","classList","toggle","lastValueText","oldValue","switchLockCalc","repeatedValue","replace","data","parts","String","formattedInteger","length","addEventListener","switchBtn","wrapper","contains","remove","add","switchThemeListener","resetText","plusBtn","minusBtn","multBtn","divisionBtn","e","target","dataset","btn","onDigitClick","onCommaClick","onComputeClick","test","formatNumToStr","calcListener"],"sourceRoot":""}